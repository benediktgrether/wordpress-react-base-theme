(()=>{"use strict";var e={n:i=>{var t=i&&i.__esModule?()=>i.default:()=>i;return e.d(t,{a:t}),t},d:(i,t)=>{for(var r in t)e.o(t,r)&&!e.o(i,r)&&Object.defineProperty(i,r,{enumerable:!0,get:t[r]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var i;e.g.importScripts&&(i=e.g.location+"");var t=e.g.document;if(!i&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(i=t.currentScript.src),!i)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!i||!/^http(s?):/.test(i));)i=r[a--].src}if(!i)throw new Error("Automatic publicPath is not supported in this browser");i=i.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=i})();const i=window.wp.blocks,t=window.wp.primitives,r=window.ReactJSXRuntime,a=(0,r.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r.jsx)(t.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})}),n=window.wp.blockEditor,o=window.wp.apiFetch;var l=e.n(o);const s=window.wp.components,c=window.wp.element,d={mediaId:{type:"number"},mediaUrl:{type:"string",default:e.p+"images/placeholder-image.d2f148ed.png"},imageSize:{type:"string",default:"full"},loading:{type:"boolean",default:!0}};function u({attributes:e,setAttributes:i,imageSizeOptions:t}){return(0,c.useEffect)((()=>{!async function(){try{if(!e.mediaId)return void console.error("Media ID is missing.");const t=await l()({path:`/wp/v2/media/${e.mediaId}`,method:"GET"});if(!t||!t.media_details)return void console.error("Invalid response:",t);i({mediaUrl:t.media_details.sizes[e.imageSize]?.source_url||t.source_url})}catch(e){console.error("Error fetching media:",e)}}()}),[e.mediaId,e.imageSize,i]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s.PanelBody,{title:"Bild Einstellungen",initialOpen:!0,children:[(0,r.jsx)(s.PanelRow,{children:(0,r.jsx)(n.MediaUploadCheck,{children:(0,r.jsx)(n.MediaUpload,{onSelect:function(e){i({mediaId:e.id,mediaUrl:e.url})},value:e.mediaId,render:({open:e})=>(0,r.jsx)(s.Button,{variant:"primary",onClick:e,children:"Bild auswählen"})})})}),(0,r.jsx)(s.PanelRow,{children:(0,r.jsx)("div",{className:"ratio ratio-16x9",children:(0,r.jsx)("img",{className:"img-fluid object-fit-cover",src:e.mediaUrl,alt:"Select",width:200})})}),(0,r.jsx)(s.PanelRow,{children:(0,r.jsx)(s.SelectControl,{label:"Bildgröße",value:e.imageSize,options:t,onChange:function(e){i({imageSize:e})}})}),(0,r.jsx)(s.PanelRow,{children:(0,r.jsx)(s.ToggleControl,{label:"Lazy Loading aktivieren",checked:e.loading,onChange:function(e){i({loading:e})}})})]})})}function m({mediaUrl:e,variant:i}){const t="cover"===i?"w-100 h-100 object-fit-cover":"w-auto h-100";return(0,r.jsx)("img",{className:t,src:e,alt:"Select Image"})}const p=[{value:"pageBanner",label:"Banner"},{value:"full",label:"Full"},{value:"medium",label:"Medium"}];(0,i.registerBlockType)("basetheme/logo-swiper-item",{title:"Logo-swiper-item",icon:a,category:"layout",parent:["basetheme/logo-swiper-container"],description:"A Description",keywords:"[]",supports:{},attributes:{...d},edit:function(e){const{attributes:i,setAttributes:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.InspectorControls,{children:(0,r.jsx)(u,{attributes:i,setAttributes:t,imageSizeOptions:p})}),(0,r.jsx)("div",{className:"container-item-1/4 logo-swiper-item-backend",children:(0,r.jsx)(m,{mediaUrl:i.mediaUrl})})]})},save:()=>null})})();