(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var i=e.g.document;if(!t&&i&&(i.currentScript&&"SCRIPT"===i.currentScript.tagName.toUpperCase()&&(t=i.currentScript.src),!t)){var n=i.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=n[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=window.wp.blocks,i=window.wp.blockEditor,n=window.wp.apiFetch;var a=e.n(n);const r=window.wp.components,o=window.wp.element,l=e.p+"images/placeholder-image.d2f148ed.png",s=window.ReactJSXRuntime,c={mediaId:{type:"number"},mediaUrl:{type:"string",default:l},imageSize:{type:"string",default:"full"},loading:{type:"boolean",default:!0}};function d({attributes:e,setAttributes:t,imageSizeOptions:n}){return(0,o.useEffect)(()=>{!async function(){try{if(!e.mediaId)return void console.error("Media ID is missing.");const i=await a()({path:`/wp/v2/media/${e.mediaId}`,method:"GET"});if(!i||!i.media_details)return void console.error("Invalid response:",i);t({mediaUrl:i.media_details.sizes[e.imageSize]?.source_url||i.source_url})}catch(e){console.error("Error fetching media:",e)}}()},[e.mediaId,e.imageSize,t]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(r.PanelBody,{title:"Bild Einstellungen",initialOpen:!0,children:[(0,s.jsx)(r.PanelRow,{children:(0,s.jsx)(i.MediaUploadCheck,{children:(0,s.jsx)(i.MediaUpload,{onSelect:function(e){t({mediaId:e.id,mediaUrl:e.url})},value:e.mediaId,render:({open:e})=>(0,s.jsx)(r.Button,{variant:"primary",onClick:e,children:"Bild auswählen"})})})}),(0,s.jsx)(r.PanelRow,{children:(0,s.jsx)("div",{className:"ratio ratio-16x9",children:(0,s.jsx)("img",{className:"img-fluid object-fit-cover",src:e.mediaUrl,alt:"Select",width:200})})}),(0,s.jsx)(r.PanelRow,{children:(0,s.jsx)(r.SelectControl,{label:"Bildgröße",value:e.imageSize,options:n,onChange:function(e){t({imageSize:e})}})}),(0,s.jsx)(r.PanelRow,{children:(0,s.jsx)(r.ToggleControl,{label:"Lazy Loading aktivieren",checked:e.loading,onChange:function(e){t({loading:e})}})})]})})}const u=[{value:"thumbnail",label:"Thumbnail"},{value:"logo",label:"Logo"}];(0,t.registerBlockType)("basetheme/navigation",{title:"Navigation",icon:"smiley",category:"layout",description:"A Description",keywords:["navigation","menu"],supports:{},attributes:{...c,imageSize:{type:"string",default:"logo"},loading:{type:"boolean",default:!1}},edit:function(e){const{attributes:t,setAttributes:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.InspectorControls,{children:(0,s.jsx)(d,{attributes:t,setAttributes:n,imageSizeOptions:u})}),(0,s.jsx)("nav",{className:"navbar navbar-expand-lg bg-body-tertiary",children:(0,s.jsxs)("div",{className:"container-fluid",children:[(0,s.jsx)("img",{className:"navbar-brand img-fluid object-fit-cover",src:t.mediaUrl,alt:"Select in WordPress Backend",style:{width:"200px",height:"100px"}}),(0,s.jsx)("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarSupportedContent",children:(0,s.jsx)(i.InnerBlocks,{template:[["core/navigation"]],allowedBlocks:["core/navigation"]})})]})})]})},save:function(){return(0,s.jsx)(i.InnerBlocks.Content,{})}})})();