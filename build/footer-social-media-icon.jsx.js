(()=>{"use strict";var e={n:i=>{var t=i&&i.__esModule?()=>i.default:()=>i;return e.d(t,{a:t}),t},d:(i,t)=>{for(var a in t)e.o(t,a)&&!e.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:t[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var i;e.g.importScripts&&(i=e.g.location+"");var t=e.g.document;if(!i&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(i=t.currentScript.src),!i)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&(!i||!/^http(s?):/.test(i));)i=a[r--].src}if(!i)throw new Error("Automatic publicPath is not supported in this browser");i=i.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=i})();const i=window.wp.blocks,t=window.wp.blockEditor,a=window.wp.components,r=window.wp.primitives,n=window.ReactJSXRuntime,o=(0,n.jsx)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)(r.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})}),l=window.wp.apiFetch;var c=e.n(l);const s=window.wp.element,d={mediaId:{type:"number"},mediaUrl:{type:"string",default:e.p+"images/placeholder-image.d2f148ed.png"},imageSize:{type:"string",default:"full"},loading:{type:"boolean",default:!0}};function u({attributes:e,setAttributes:i,imageSizeOptions:r}){return(0,s.useEffect)((()=>{!async function(){try{if(!e.mediaId)return void console.error("Media ID is missing.");const t=await c()({path:`/wp/v2/media/${e.mediaId}`,method:"GET"});if(!t||!t.media_details)return void console.error("Invalid response:",t);i({mediaUrl:t.media_details.sizes[e.imageSize]?.source_url||t.source_url})}catch(e){console.error("Error fetching media:",e)}}()}),[e.mediaId,e.imageSize,i]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(a.PanelBody,{title:"Bild Einstellungen",initialOpen:!0,children:[(0,n.jsx)(a.PanelRow,{children:(0,n.jsx)(t.MediaUploadCheck,{children:(0,n.jsx)(t.MediaUpload,{onSelect:function(e){i({mediaId:e.id,mediaUrl:e.url})},value:e.mediaId,render:({open:e})=>(0,n.jsx)(a.Button,{variant:"primary",onClick:e,children:"Bild auswählen"})})})}),(0,n.jsx)(a.PanelRow,{children:(0,n.jsx)("div",{className:"ratio ratio-16x9",children:(0,n.jsx)("img",{className:"img-fluid object-fit-cover",src:e.mediaUrl,alt:"Select",width:200})})}),(0,n.jsx)(a.PanelRow,{children:(0,n.jsx)(a.SelectControl,{label:"Bildgröße",value:e.imageSize,options:r,onChange:function(e){i({imageSize:e})}})}),(0,n.jsx)(a.PanelRow,{children:(0,n.jsx)(a.ToggleControl,{label:"Lazy Loading aktivieren",checked:e.loading,onChange:function(e){i({loading:e})}})})]})})}function m({mediaUrl:e,variant:i}){const t="cover"===i?"w-100 h-100 object-fit-cover":"w-auto h-100";return(0,n.jsx)("img",{className:t,src:e,alt:"Select Image"})}(0,i.registerBlockType)("basetheme/footer-social-media-icon",{title:"Footer-social-media-icon",icon:o,parent:["basetheme/footer-social-media-container"],attributes:{...d,socialMediaUrl:{type:"string",default:""}},edit:function(e){const{attributes:i,setAttributes:r}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.InspectorControls,{children:[(0,n.jsx)(u,{attributes:i,setAttributes:r,imageSizeOptions:p}),(0,n.jsx)(a.PanelBody,{title:"Social Media Icon",children:(0,n.jsx)(a.PanelRow,{children:(0,n.jsx)(a.TextControl,{label:"Social Media URL",value:i.socialMediaUrl,onChange:e=>r({socialMediaUrl:e})})})})]}),(0,n.jsx)("div",{className:"footer-social-media-icon",children:(0,n.jsx)(m,{mediaUrl:i.mediaUrl,alt:"Upload Image"})})]})},save:()=>null});const p=[{value:"pageBanner",label:"Banner"},{value:"full",label:"Full"},{value:"medium",label:"Medium"},{value:"partnerLogo",label:"Partner Logo"}]})();